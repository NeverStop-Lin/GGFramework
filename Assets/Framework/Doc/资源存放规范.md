# 资源存放规范

> **版本**: v2.0.0  
> **GGFramework 资源组织规范**

---

## 📁 项目目录结构

```
Assets/
│
├── Game/                          # 游戏业务目录
│   ├── Scripts/                  # 游戏脚本
│   │   ├── Player/
│   │   ├── Enemy/
│   │   ├── UI/
│   │   └── Managers/
│   │
│   ├── Scenes/                   # 场景文件
│   │   ├── main.unity
│   │   └── battle.unity
│   │
│   ├── Art/                      # 美术资源总目录 ⭐
│   │   ├── 2D/                   # 2D 资源
│   │   ├── 3D/                   # 3D 资源
│   │   ├── UI/                   # UI 资源
│   │   ├── Audio/                # 音频资源
│   │   ├── Effects/              # 特效资源
│   │   ├── Animations/           # 动画资源
│   │   └── Materials/            # 材质资源
│   │
│   └── Resources/                # 游戏运行时资源 ⭐
│       ├── UI/
│       ├── Audio/
│       ├── Configs/
│       └── Data/
│
├── AddressableAssets/            # 可寻址资源
│   └── Game/                     # 游戏可寻址资源
│
├── Generations/                  # 自动生成文件 ⭐
│   ├── Configs/                  # 生成的配置
│   │   ├── Excel/               # Excel 生成的代码
│   │   └── Proto/               # Protobuf 生成的代码
│   ├── Code/                     # 生成的代码
│   │   ├── UI/                  # UI 自动绑定
│   │   └── Data/                # 数据访问代码
│   └── Resources/                # 生成的运行时资源 ⭐
│       └── AddressableResourceManifest.asset
│
├── Framework/                    # 框架（不要修改）
│   ├── Core/
│   ├── Modules/
│   ├── Scripts/
│   └── Resources/                # 框架运行时资源 ⭐
│       ├── Framework.prefab
│       └── FrameworkInstaller.asset
│
└── Plugins/                      # 第三方插件
```

---

## 🎨 Game/Art/ 详细结构

### 2D 资源

```
Game/Art/2D/
├── Sprites/                      # 精灵图
│   ├── Characters/               # 角色精灵
│   │   ├── player_idle.png
│   │   └── enemy_goblin.png
│   ├── Items/                    # 道具精灵
│   │   ├── coin_gold.png
│   │   └── gem_blue.png
│   └── Environment/              # 环境精灵
│       ├── tree_01.png
│       └── rock_01.png
│
├── Textures/                     # 2D 纹理
│   ├── Backgrounds/              # 背景图
│   │   ├── bg_forest.png
│   │   └── bg_desert.png
│   ├── Tilemap/                  # 瓦片地图
│   │   ├── tileset_ground.png
│   │   └── tileset_props.png
│   └── Particles/                # 粒子纹理
│       └── particle_smoke.png
│
└── Atlases/                      # 图集
    ├── characters_atlas.spriteatlas
    ├── items_atlas.spriteatlas
    └── ui_atlas.spriteatlas
```

### 3D 资源

```
Game/Art/3D/
├── Models/                       # 模型文件
│   ├── Characters/               # 角色模型
│   │   ├── player.fbx
│   │   └── enemy_orc.fbx
│   ├── Props/                    # 道具模型
│   │   ├── weapon_sword.fbx
│   │   └── item_chest.fbx
│   ├── Environment/              # 环境模型
│   │   ├── building_house.fbx
│   │   └── tree_oak.fbx
│   └── Vehicles/                 # 载具模型
│       └── car_sport.fbx
│
├── Textures/                     # 3D 纹理
│   ├── Characters/
│   │   ├── player_diffuse.png
│   │   ├── player_normal.png
│   │   └── player_specular.png
│   ├── Environment/
│   │   └── ground_diffuse.png
│   └── Props/
│       └── chest_diffuse.png
│
├── Prefabs/                      # 3D 预制体
│   ├── Characters/
│   │   └── player.prefab
│   ├── Props/
│   │   └── chest.prefab
│   └── Environment/
│       └── tree.prefab
│
└── Animations/                   # 3D 动画
    └── Characters/
        ├── player_idle.anim
        ├── player_walk.anim
        └── player_attack.anim
```

### UI 资源

```
Game/Art/UI/
├── Prefabs/                      # UI 预制体
│   ├── Common/                   # 通用UI
│   │   ├── loading.prefab
│   │   ├── toast.prefab
│   │   └── dialog.prefab
│   ├── Windows/                  # 窗口UI
│   │   ├── main_menu.prefab
│   │   ├── settings.prefab
│   │   └── shop.prefab
│   └── HUD/                      # HUD UI
│       └── battle_hud.prefab
│
├── Sprites/                      # UI 精灵
│   ├── Buttons/                  # 按钮图片
│   │   ├── btn_normal.png
│   │   ├── btn_pressed.png
│   │   └── btn_disabled.png
│   ├── Icons/                    # 图标
│   │   ├── icon_gold.png
│   │   ├── icon_gem.png
│   │   └── icon_health.png
│   ├── Backgrounds/              # UI 背景
│   │   └── panel_bg.png
│   └── Decorations/              # 装饰元素
│       └── frame_golden.png
│
├── Fonts/                        # 字体文件
│   ├── font_main.ttf
│   └── font_number.ttf
│
└── Atlases/                      # UI 图集
    ├── common_atlas.spriteatlas
    ├── icons_atlas.spriteatlas
    └── buttons_atlas.spriteatlas
```

### 音频资源

```
Game/Art/Audio/
├── Music/                        # 背景音乐
│   ├── bgm_main_menu.mp3
│   ├── bgm_battle.mp3
│   └── bgm_victory.mp3
│
├── Effects/                      # 音效
│   ├── UI/                       # UI 音效
│   │   ├── sfx_ui_click.wav
│   │   ├── sfx_ui_open.wav
│   │   └── sfx_ui_close.wav
│   ├── Weapons/                  # 武器音效
│   │   ├── sfx_weapon_shoot.wav
│   │   └── sfx_weapon_reload.wav
│   ├── Characters/               # 角色音效
│   │   ├── sfx_footstep_01.wav
│   │   └── sfx_jump.wav
│   └── Environment/              # 环境音效
│       └── sfx_ambient_forest.wav
│
└── Voice/                        # 语音
    ├── player_hurt.wav
    └── player_victory.wav
```

### 特效资源

```
Game/Art/Effects/
├── Prefabs/                      # 特效预制体
│   ├── Combat/                   # 战斗特效
│   │   ├── hit_spark.prefab
│   │   ├── explosion.prefab
│   │   └── slash_effect.prefab
│   ├── UI/                       # UI 特效
│   │   ├── button_click.prefab
│   │   └── reward_glow.prefab
│   └── Environment/              # 环境特效
│       ├── rain.prefab
│       └── dust.prefab
│
├── Textures/                     # 特效纹理
│   ├── smoke_01.png
│   └── fire_01.png
│
└── Materials/                    # 特效材质
    └── particle_additive.mat
```

### 动画资源

```
Game/Art/Animations/
├── Characters/                   # 角色动画
│   ├── Player/
│   │   ├── player_idle.anim
│   │   ├── player_walk.anim
│   │   ├── player_run.anim
│   │   └── player_attack.anim
│   └── Enemies/
│       └── goblin_attack.anim
│
├── UI/                           # UI 动画
│   ├── window_open.anim
│   └── button_press.anim
│
└── Controllers/                  # 动画控制器
    ├── player_controller.controller
    └── enemy_controller.controller
```

### 材质资源

```
Game/Art/Materials/
├── Characters/                   # 角色材质
│   └── player_material.mat
│
├── Environment/                  # 环境材质
│   ├── ground_material.mat
│   └── water_material.mat
│
├── Props/                        # 道具材质
│   └── chest_material.mat
│
└── Effects/                      # 特效材质
    └── particle_material.mat
```

---

## 📦 Resources 目录说明

Unity 会自动识别所有名为 "Resources" 的文件夹，项目中有三个 Resources 目录：

### 1. Game/Resources/ - 游戏运行时资源

```
Game/Resources/
├── UI/
│   ├── Icons/                   # 小图标
│   │   ├── icon_gold.png
│   │   └── icon_gem.png
│   └── Fonts/                   # 字体
│       └── font_main.ttf
│
├── Audio/
│   └── Effects/                 # 短音效
│       ├── sfx_ui_click.wav
│       └── sfx_coin.wav
│
├── Configs/                     # 配置文件
│   ├── game_config.json
│   └── level_config.json
│
└── Data/                        # 数据文件
    └── item_data.bytes
```

**路径规则**：
```
物理位置：Assets/Game/Resources/UI/Icons/gold.png
加载路径："UI/Icons/gold"
```

### 2. Generations/Resources/ - 生成的运行时资源

```
Generations/Resources/
└── AddressableResourceManifest.asset  # Addressable 资源清单
```

**路径规则**：
```
物理位置：Assets/Generations/Resources/AddressableResourceManifest.asset
加载路径："AddressableResourceManifest"
```

### 3. Framework/Resources/ - 框架运行时资源

```
Framework/Resources/
├── Framework.prefab             # 框架预制体
└── FrameworkInstaller.asset     # 框架安装器
```

**路径规则**：
```
物理位置：Assets/Framework/Resources/Framework.prefab
加载路径："Framework"
```

**注意**：Unity 会将所有 Resources 目录下的资源合并到一个虚拟目录，所以加载路径不包含 Game、Generations 或 Framework 前缀

---

## 🎯 AddressableAssets 目录结构

```
AddressableAssets/
│
└── Game/                         # 游戏可寻址资源
    ├── UI/
    │   └── Prefabs/             # UI 预制体
    │       ├── main_menu.prefab
    │       ├── battle_hud.prefab
    │       └── shop_panel.prefab
    │
    ├── Audio/
    │   └── Music/               # 背景音乐
    │       ├── bgm_main.mp3
    │       └── bgm_battle.mp3
    │
    ├── 2D/
    │   ├── Sprites/             # 大型精灵图
    │   └── Textures/            # 大型纹理
    │
    ├── 3D/
    │   ├── Models/              # 3D 模型
    │   │   ├── Characters/
    │   │   └── Props/
    │   └── Prefabs/             # 3D 预制体
    │       ├── Characters/
    │       └── Environment/
    │
    ├── Effects/
    │   └── Prefabs/             # 特效预制体
    │       ├── explosion.prefab
    │       └── hit_spark.prefab
    │
    └── Scenes/                  # 场景
        ├── level_01.unity
        └── level_02.unity
```

**路径规则**：
```
物理位置：Assets/AddressableAssets/Game/UI/Prefabs/main_menu.prefab
Address：   "Game/UI/Prefabs/main_menu"
加载路径：   "Game/UI/Prefabs/main_menu"
```

---

## 🔧 Generations 目录结构

```
Generations/                      # 自动生成文件目录 ⭐
├── Configs/                      # 生成的配置代码
│   ├── Excel/                    # Excel 生成的数据类
│   │   ├── item_data.cs
│   │   ├── skill_data.cs
│   │   └── character_data.cs
│   └── Proto/                    # Protobuf 生成的代码
│       ├── network_message.cs
│       └── player_data.cs
│
├── Code/                         # 生成的脚本代码
│   ├── UI/                       # UI 组件自动绑定
│   │   ├── MainMenuUI_Binding.cs
│   │   └── BattleHUD_Binding.cs
│   └── Data/                     # 数据访问代码
│       └── ConfigLoader.cs
│
└── Resources/                    # 生成的运行时资源 ⭐⭐⭐
    ├── AddressableResourceManifest.asset  # Addressable 资源清单
    └── BuildInfo.asset                     # 构建信息（可选）
```

**目录说明**：

| 子目录 | 用途 | 生成工具 |
|-------|------|---------|
| `Configs/` | 配置代码 | Excel导入器、Proto编译器 |
| `Code/` | 脚本代码 | UI绑定工具、代码生成器 |
| `Resources/` | 运行时资源 | 清单生成器 |

**特点**：
- 所有自动生成的文件统一存放
- Resources 子目录会被 Unity 识别并打包
- 便于管理和清理
- 可选择性加入 .gitignore

**Resources 路径**：
```
物理位置：Assets/Generations/Resources/AddressableResourceManifest.asset
加载路径："AddressableResourceManifest"（直接在 Resources 根目录）
```

---

## 🏷️ 命名规范

### 基本规则

```
格式：<类型>_<名称>_<状态/变体>

规则：
- 全小写
- 使用下划线分隔
- 语义化命名
- 前缀标识类型
```

### 2D 资源命名

```
精灵图：
sprite_character_player.png
sprite_enemy_goblin.png
sprite_item_coin.png

纹理：
tex_bg_forest_2048.png
tex_tileset_ground_512.png

图标：
icon_gold_64.png
icon_skill_fireball_128.png

UI 图片：
ui_btn_start_normal.png
ui_btn_start_pressed.png
ui_panel_bg.png
```

### 3D 资源命名

```
模型：
model_character_player.fbx
model_enemy_orc.fbx
model_prop_chest.fbx
model_env_tree_oak.fbx

纹理：
tex_character_player_diffuse_1024.png
tex_character_player_normal_1024.png
tex_character_player_specular_1024.png
tex_env_ground_diffuse_2048.png

材质：
mat_character_player.mat
mat_env_ground.mat
mat_prop_metal.mat
```

### UI 资源命名

```
UI 预制体：
ui_main_menu.prefab
ui_battle_hud.prefab
ui_shop_panel.prefab
ui_dialog_confirm.prefab

UI 组件：
ui_btn_close.prefab
ui_btn_start.prefab
ui_slider_health.prefab

UI 贴图：
ui_btn_normal.png
ui_btn_pressed.png
ui_icon_gold.png
ui_bg_panel.png
```

### 音频资源命名

```
背景音乐：
bgm_main_menu.mp3
bgm_battle_01.mp3
bgm_victory.mp3

UI 音效：
sfx_ui_click.wav
sfx_ui_open.wav
sfx_ui_close.wav

武器音效：
sfx_weapon_shoot.wav
sfx_weapon_reload.wav
sfx_weapon_swing.wav

角色音效：
sfx_footstep_01.wav
sfx_jump.wav
sfx_hurt.wav

环境音效：
sfx_ambient_forest.wav
sfx_rain.wav
```

### 特效资源命名

```
特效预制体：
effect_explosion_large.prefab
effect_hit_spark.prefab
effect_smoke_white.prefab
effect_levelup.prefab

特效纹理：
tex_particle_smoke.png
tex_particle_fire.png
tex_particle_magic.png
```

### 动画资源命名

```
动画片段：
anim_player_idle.anim
anim_player_walk.anim
anim_player_attack_01.anim

动画控制器：
animator_player.controller
animator_enemy_goblin.controller

时间轴：
timeline_cutscene_intro.playable
```

### 场景和配置命名

```
场景：
scene_main.unity
scene_level_01.unity
scene_level_02.unity

配置文件：
game_config.json
level_config.json
character_config.json

生成的数据：
item_data.bytes
skill_data.bytes
```

---

## 📋 命名前缀对照表

| 前缀 | 类型 | 示例 |
|------|------|------|
| `ui_` | UI资源 | `ui_btn_close.png` |
| `icon_` | 图标 | `icon_gold.png` |
| `sprite_` | 精灵 | `sprite_character_player.png` |
| `tex_` | 纹理 | `tex_character_diffuse.png` |
| `model_` | 模型 | `model_character_player.fbx` |
| `mat_` | 材质 | `mat_character_player.mat` |
| `anim_` | 动画 | `anim_player_idle.anim` |
| `animator_` | 动画控制器 | `animator_player.controller` |
| `effect_` | 特效 | `effect_explosion.prefab` |
| `bgm_` | 背景音乐 | `bgm_battle.mp3` |
| `sfx_` | 音效 | `sfx_click.wav` |
| `scene_` | 场景 | `scene_level_01.unity` |

---

## 🎨 完整的 Game 目录示例

```
Assets/Game/
│
├── Scripts/                      # 游戏脚本
│   ├── Player/
│   ├── Enemy/
│   ├── UI/
│   └── Managers/
│
├── Scenes/                       # 场景文件
│   ├── main.unity
│   └── battle.unity
│
└── Art/                          # 美术资源 ⭐
    │
    ├── 2D/                       # 2D 资源
    │   ├── Sprites/
    │   │   ├── Characters/
    │   │   ├── Items/
    │   │   └── Environment/
    │   ├── Textures/
    │   │   ├── Backgrounds/
    │   │   └── Tilemap/
    │   └── Atlases/
    │
    ├── 3D/                       # 3D 资源
    │   ├── Models/
    │   │   ├── Characters/
    │   │   ├── Props/
    │   │   └── Environment/
    │   ├── Textures/
    │   │   ├── Characters/
    │   │   └── Environment/
    │   ├── Prefabs/
    │   │   ├── Characters/
    │   │   └── Props/
    │   └── Animations/
    │       └── Characters/
    │
    ├── UI/                       # UI 资源
    │   ├── Prefabs/
    │   │   ├── Common/
    │   │   ├── Windows/
    │   │   └── HUD/
    │   ├── Sprites/
    │   │   ├── Buttons/
    │   │   ├── Icons/
    │   │   └── Backgrounds/
    │   ├── Fonts/
    │   └── Atlases/
    │
    ├── Audio/                    # 音频资源
    │   ├── Music/
    │   ├── Effects/
    │   │   ├── UI/
    │   │   ├── Weapons/
    │   │   └── Characters/
    │   └── Voice/
    │
    ├── Effects/                  # 特效资源
    │   ├── Prefabs/
    │   │   ├── Combat/
    │   │   ├── UI/
    │   │   └── Environment/
    │   ├── Textures/
    │   └── Materials/
    │
    ├── Animations/               # 动画资源
    │   ├── Characters/
    │   ├── UI/
    │   └── Controllers/
    │
    └── Materials/                # 材质资源
        ├── Characters/
        ├── Environment/
        └── Props/
```

---

## 📂 资源路径映射

### 场景引用（Art 目录下）

```csharp
// Inspector 拖拽赋值
public class GameController : MonoBehaviour
{
    [SerializeField] private GameObject playerPrefab;
    // 引用：Assets/Game/Art/3D/Prefabs/Characters/player.prefab
    
    void Start()
    {
        Instantiate(playerPrefab);
    }
}
```

### Resources 加载

```csharp
// 物理位置：Assets/Resources/Game/UI/Icons/gold.png
// 加载路径：
var icon = await GridFramework.Resource.LoadAsync<Sprite>("Game/UI/Icons/gold");
```

### Addressables 加载

```csharp
// 物理位置：Assets/AddressableAssets/Game/UI/Prefabs/main_menu.prefab
// Address：    Game/UI/Prefabs/main_menu
// 加载路径：
var ui = await GridFramework.Resource.LoadAsync<GameObject>("Game/UI/Prefabs/main_menu");
```

---

## ✅ 最佳实践

### 1. 目录结构清晰

```
✅ 按资源类型分类（2D、3D、UI、Audio）
✅ 按功能子分类（Characters、Props、Effects）
✅ 深度适中（不超过 4 层）
```

### 2. 命名规范统一

```
✅ 全部小写 + 下划线
✅ 使用前缀标识类型
✅ 语义化命名
✅ 包含尺寸信息（纹理）
```

### 3. 资源优化（待定，参考）

```
2D 纹理：
- 压缩格式（ETC2、ASTC、PVRTC）
- 适当尺寸（UI: 512-1024, 场景: 2048）
- 使用图集减少 DrawCall

3D 模型：
- 控制面数（角色 < 5000 面）
- 使用 LOD
- 压缩 Mesh

音频：
- 背景音乐：Streaming
- 短音效：Compressed In Memory
- 控制质量：0.5-0.7
```

### 4. 文件整理

```
✅ 删除未使用资源
✅ 删除重复资源
✅ 清理 meta 文件
✅ 版本控制（Git）
```

---

## 🔍 快速参考

### 资源类型与位置

| 资源类型 | Art 目录 |
|---------|---------|
| **2D 精灵** | `Art/2D/Sprites/` |
| **3D 模型** | `Art/3D/Models/` |
| **UI 预制体** | `Art/UI/Prefabs/` |
| **音效** | `Art/Audio/Effects/` |
| **音乐** | `Art/Audio/Music/` |
| **特效** | `Art/Effects/Prefabs/` |
| **配置** | - | 推荐 | - |

### 目录用途

| 目录 | 用途 |
|------|------|
| `Game/Scripts/` | 游戏脚本 |
| `Game/Scenes/` | 场景文件 |
| `Game/Art/` | 美术原始资源 |
| `Resources/` | 运行时动态加载（小资源） |
| `AddressableAssets/` | 可寻址资源（大资源） |
| `Generations/` | 自动生成文件 |

---

**遵循规范，让资源组织井井有条！** 📦
