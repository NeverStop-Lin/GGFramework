# UIç³»ç»Ÿç›®å½•ç»“æ„è¯´æ˜

> **è·¯å¾„**: Assets/Framework/Core/Systems/UI/  
> **æ›´æ–°æ—¶é—´**: 2025-01-26

---

## ğŸ“ ç›®å½•åˆ†ç±»

### ä¸€ã€æ ¸å¿ƒå±‚ Core/ï¼ˆ4ä¸ªæ–‡ä»¶ï¼‰

#### ç»§æ‰¿å±‚æ¬¡
```
BaseUI (æŠ½è±¡åŸºç±»)
  â””â”€ UGUIBaseUI (UGUIå®ç°)
      â””â”€ ç”¨æˆ·UIç±»
```

| æ–‡ä»¶ | ç±»å‹ | èŒè´£ | çŠ¶æ€ |
|------|------|------|------|
| `BaseUI.cs` | æŠ½è±¡åŸºç±» | Pipelineç®¡é“ã€ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€Attachmentæœºåˆ¶ | âœ… æ´»è·ƒ |
| `UGUIBaseUI.cs` | æŠ½è±¡åŸºç±» | UGUIå®ç°ã€èµ„æºåŠ è½½ã€ç»„ä»¶ç»‘å®šã€äº‹ä»¶ç®¡ç† | âœ… æ´»è·ƒ |
| `UIFactory.cs` | å·¥å‚ç±» | Zenjectå·¥å‚ï¼Œåˆ›å»ºUIå®ä¾‹ | âœ… æ´»è·ƒ |
| `UiLifeCycle.cs` | æ•°æ®ç»“æ„ | UIç”Ÿå‘½å‘¨æœŸè¿”å›å€¼ï¼ˆShowTask/HideTask/Targetï¼‰ | âœ… æ´»è·ƒ |

---

### äºŒã€åºŸå¼ƒåŸºç±»ï¼ˆ2ä¸ªæ–‡ä»¶ï¼‰âš ï¸

| æ–‡ä»¶ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| `MainUI.cs` | ğŸ”¶ å·²åºŸå¼ƒ | æ ‡è®°[Obsolete]ï¼Œè¯·ä½¿ç”¨UGUIBaseUI + UIConfig |
| `PopupUI.cs` | ğŸ”¶ å·²åºŸå¼ƒ | æ ‡è®°[Obsolete]ï¼Œè¯·ä½¿ç”¨UGUIBaseUI + UIConfig |

**è¿ç§»æŒ‡å¼•**ï¼šè¿™ä¸¤ä¸ªç±»ä»ä¿ç•™æ˜¯ä¸ºäº†å…¼å®¹æ€§ï¼Œæ–°ä»£ç è¯·å‹¿ä½¿ç”¨ã€‚

---

### ä¸‰ã€é…ç½®ç³»ç»Ÿï¼ˆ7ä¸ªæ–‡ä»¶ï¼‰

#### é…ç½®ç›¸å…³
| æ–‡ä»¶ | èŒè´£ | è¯´æ˜ |
|------|------|------|
| `UIConfig.cs` | UIé…ç½®ç±» | å®šä¹‰èµ„æºè·¯å¾„ã€ç±»å‹ã€ç¼“å­˜ç­–ç•¥ç­‰ |
| `UIConfigMerger.cs` | é…ç½®èåˆå™¨ | åˆå¹¶ä»£ç é…ç½®å’Œè¿è¡Œæ—¶é…ç½® |
| `UIManifest.cs` | é…ç½®æ¸…å• | ScriptableObjectï¼Œè¿è¡Œæ—¶é…ç½®ç®¡ç† |
| `UIManifestManager.cs` | æ¸…å•ç®¡ç†å™¨ | åŠ è½½å’Œè®¿é—®UIManifest |

#### æšä¸¾å®šä¹‰
| æ–‡ä»¶ | æšä¸¾å | è¯´æ˜ |
|------|--------|------|
| `UIType.cs` | UIType | Main/Popup/Effect/Top |
| `UIAlignType.cs` | UIAlignType | Center/Top/Bottom |
| `UICacheStrategy.cs` | UICacheStrategy | AlwaysCache/NeverCache/LRU |
| `UIAnimationType.cs` | UIAnimationType | None/Fade/Scale/Slide/Custom |
| `UIState.cs` | UIState | Create/Show/Ready/Hide/Destroy |
| `UIRuntimeState.cs` | UIRuntimeState | Creating/Showing/Hidden/Destroyed |

---

### å››ã€ç®¡ç†å™¨ç³»ç»Ÿï¼ˆ5ä¸ªæ–‡ä»¶ï¼‰ğŸ†•

| æ–‡ä»¶ | èŒè´£ | ä¸»è¦åŠŸèƒ½ |
|------|------|---------|
| `UICenter.cs` | UIç®¡ç†ä¸­å¿ƒ | æ˜¾ç¤º/éšè—/é”€æ¯ã€æ ˆç®¡ç†ã€é¢„åŠ è½½ |
| `UIInstanceManager.cs` | å®ä¾‹ç®¡ç†å™¨ | UIå®ä¾‹ç¼“å­˜ã€LRUæ·˜æ±°ã€å†…å­˜ç®¡ç† |
| `UIStackManager.cs` | æ ˆç®¡ç†å™¨ | Push/Popã€è¿”å›åŠŸèƒ½ã€Raycastæ§åˆ¶ |
| `UILayerManager.cs` | å±‚çº§ç®¡ç†å™¨ | è‡ªåŠ¨åˆ†é…sortingOrderï¼ˆå›ºå®šåŒºé—´ï¼‰ |
| `UIStateManager.cs` | çŠ¶æ€ç®¡ç†å™¨ | çŠ¶æ€è¿½è¸ªã€çŠ¶æ€æŒä¹…åŒ– |
| `UIRootManager.cs` | UIRootç®¡ç†å™¨ | è‡ªåŠ¨åˆ›å»ºUIRootã€UIæŒ‚è½½ |

---

### äº”ã€Attachmentç³»ç»Ÿï¼ˆ7ä¸ªæ–‡ä»¶ï¼‰

#### æ ¸å¿ƒAttachmentï¼ˆç”±BaseUIè‡ªåŠ¨æ·»åŠ ï¼‰
| æ–‡ä»¶ | èŒè´£ | ä½¿ç”¨æƒ…å†µ |
|------|------|---------|
| `UIAttachment.cs` | AttachmentåŸºç±» | æ‰€æœ‰Attachmentçš„åŸºç±» |
| `ActionUiAttachment.cs` | Actionç®¡ç† | BaseUIè‡ªåŠ¨æ·»åŠ  |
| `EmitLifeCycleUIAttachment.cs` | ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ | BaseUIè‡ªåŠ¨æ·»åŠ  |
| `SortUIAttachment.cs` | UIæ’åº | BaseUIè‡ªåŠ¨æ·»åŠ  |

#### å¯é€‰Attachmentï¼ˆå­ç±»å¯æ·»åŠ ï¼‰
| æ–‡ä»¶ | èŒè´£ | ä½¿ç”¨æƒ…å†µ |
|------|------|---------|
| `ShowHideUiAttachment.cs` | æ˜¾ç¤ºéšè— | MainUI/PopupUIä½¿ç”¨ |
| `MaskUIAttachment.cs` | é®ç½© | PopupUIä½¿ç”¨ |
| `AlignUIAttachment.cs` | å¯¹é½ | âš ï¸ ç©ºå®ç°ï¼Œæš‚æ—¶ä¿ç•™ |

---

### å…­ã€Attachmentç³»ç»Ÿï¼ˆå·²åˆ†ç±»åˆ° Attachment/ï¼‰

è¯¦è§ä¸Šæ–‡"éœ€è¦ä¿ç•™çš„æ–‡ä»¶"éƒ¨åˆ†ã€‚

---

### ä¸ƒã€æ‰©å±•åŠŸèƒ½ï¼ˆ1ä¸ªç›®å½•ï¼‰ğŸ†•

#### Extensions/
| æ–‡ä»¶ | èŒè´£ | åŠŸèƒ½ |
|------|------|------|
| `UIBindingExtensions.cs` | æ•°æ®ç»‘å®šæ‰©å±• | 8ä¸ªç»‘å®šæ–¹æ³•ï¼ˆBindTextã€BindNumberç­‰ï¼‰ |

---

### å…«ã€UIå·¥å…·ç±»ï¼ˆ1ä¸ªç›®å½•ï¼‰

#### Utils/
| æ–‡ä»¶ | èŒè´£ |
|------|------|
| `CustomSprite.cs` | è‡ªå®šä¹‰Sprite |
| `Label.cs` | æ ‡ç­¾ |
| `Sprite.cs` | Spriteå·¥å…· |
| `Editor/CustomSpriteEditor.cs` | è‡ªå®šä¹‰Spriteç¼–è¾‘å™¨ |
| `Editor/SpriteEditor.cs` | Spriteç¼–è¾‘å™¨ |

**è¯´æ˜**ï¼šè¿™äº›æ˜¯UIè¾…åŠ©å·¥å…·ï¼Œä¸æ ¸å¿ƒç³»ç»Ÿåˆ†ç¦»ã€‚

---

## ğŸ“Š æ–‡ä»¶ç»Ÿè®¡

### æŒ‰ç±»å‹ç»Ÿè®¡

| ç±»å‹ | æ•°é‡ | ç›®å½•ä½ç½® |
|------|------|---------|
| æ ¸å¿ƒå±‚ | 4 | Core/ (BaseUIã€UGUIBaseUIã€UIFactoryã€UiLifeCycle) |
| åºŸå¼ƒç±» | 2 | Deprecated/ (MainUIã€PopupUI) |
| é…ç½®ç³»ç»Ÿ | 10 | Config/ (Configã€Manifestã€6ä¸ªæšä¸¾) |
| ç®¡ç†å™¨ | 6 | Managers/ (Centerã€Instanceã€Stackã€Layerã€Stateã€Root) |
| Attachment | 7 | Attachment/ (å„ç§UIè¡Œä¸ºæ‰©å±•) |
| æ‰©å±•åŠŸèƒ½ | 1 | Extensions/ (æ•°æ®ç»‘å®šæ‰©å±•) |
| UIå·¥å…· | 5 | Utils/ (Spriteç›¸å…³å·¥å…·) |

**æ€»è®¡**: 35ä¸ªæ–‡ä»¶ï¼ˆä¸å«.metaï¼‰

### æŒ‰ç›®å½•ç»Ÿè®¡

| ç›®å½• | æ–‡ä»¶æ•° | è¯´æ˜ |
|------|--------|------|
| Core/ | 4 | æ ¸å¿ƒåŸºç±» + å·¥å‚ + æ•°æ®ç»“æ„ |
| Managers/ | 6 | ç®¡ç†å™¨ç³»ç»Ÿ |
| Config/ | 10 | é…ç½®å’Œæšä¸¾ |
| Deprecated/ | 2 | åºŸå¼ƒç±» |
| Attachment/ | 7 | Attachmentç³»ç»Ÿ |
| Extensions/ | 1 | æ‰©å±•åŠŸèƒ½ |
| Utils/ | 5 | å·¥å…·ç±» |
| **æ ¹ç›®å½•** | **0** | **å®Œå…¨å¹²å‡€ï¼** âœ…

### æŒ‰çŠ¶æ€ç»Ÿè®¡

| çŠ¶æ€ | æ•°é‡ | è¯´æ˜ |
|------|------|------|
| âœ… æ´»è·ƒä½¿ç”¨ | 28 | æ ¸å¿ƒåŠŸèƒ½æ–‡ä»¶ |
| ğŸ†• æ–°å¢ | 15 | é‡æ„æ–°å¢çš„æ–‡ä»¶ |
| ğŸ”„ é‡æ„ | 3 | UGUIBaseUIã€UICenterã€IUI |
| ğŸ”¶ åºŸå¼ƒ | 2 | MainUIã€PopupUI |
| âš ï¸ å¾…å®š | 1 | AlignUIAttachmentï¼ˆç©ºå®ç°ï¼‰ |

---

## âœ… å½“å‰ç›®å½•ç»„ç»‡ï¼ˆå·²ä¼˜åŒ–ï¼‰

ç›®å½•å·²æŒ‰åŠŸèƒ½é‡æ–°ç»„ç»‡ï¼Œç»“æ„æ¸…æ™°ï¼Œ**æ ¹ç›®å½•å®Œå…¨å¹²å‡€**ï¼

```
Assets/Framework/Core/Systems/UI/
â”œâ”€ Core/                          # æ ¸å¿ƒå±‚ âœ…
â”‚  â”œâ”€ BaseUI.cs                   (PipelineåŸºç±»)
â”‚  â”œâ”€ UGUIBaseUI.cs               (UGUIå®ç°)
â”‚  â”œâ”€ UIFactory.cs                (UIå·¥å‚ï¼ŒZenjecté›†æˆ)
â”‚  â””â”€ UiLifeCycle.cs              (ç”Ÿå‘½å‘¨æœŸè¿”å›å€¼æ•°æ®ç»“æ„)
â”‚
â”œâ”€ Managers/                      # ç®¡ç†å™¨ç³»ç»Ÿ âœ… ğŸ†•
â”‚  â”œâ”€ UICenter.cs                 (UIç®¡ç†ä¸­å¿ƒ)
â”‚  â”œâ”€ UIInstanceManager.cs        (å®ä¾‹ç®¡ç†)
â”‚  â”œâ”€ UIStackManager.cs           (æ ˆç®¡ç†)
â”‚  â”œâ”€ UILayerManager.cs           (å±‚çº§ç®¡ç†)
â”‚  â”œâ”€ UIStateManager.cs           (çŠ¶æ€ç®¡ç†)
â”‚  â””â”€ UIRootManager.cs            (UIRootç®¡ç†)
â”‚
â”œâ”€ Config/                        # é…ç½®ç³»ç»Ÿ âœ… ğŸ†•
â”‚  â”œâ”€ UIConfig.cs                 (é…ç½®ç±»)
â”‚  â”œâ”€ UIConfigMerger.cs           (é…ç½®èåˆ)
â”‚  â”œâ”€ UIManifest.cs               (é…ç½®æ¸…å•)
â”‚  â”œâ”€ UIManifestManager.cs        (æ¸…å•ç®¡ç†)
â”‚  â”œâ”€ UIType.cs                   (UIç±»å‹æšä¸¾)
â”‚  â”œâ”€ UIAlignType.cs              (å¯¹é½ç±»å‹æšä¸¾)
â”‚  â”œâ”€ UICacheStrategy.cs          (ç¼“å­˜ç­–ç•¥æšä¸¾)
â”‚  â”œâ”€ UIAnimationType.cs          (åŠ¨ç”»ç±»å‹æšä¸¾)
â”‚  â”œâ”€ UIState.cs                  (ç”Ÿå‘½å‘¨æœŸçŠ¶æ€æšä¸¾)
â”‚  â””â”€ UIRuntimeState.cs           (è¿è¡Œæ—¶çŠ¶æ€æšä¸¾)
â”‚
â”œâ”€ Attachment/                    # Attachmentç³»ç»Ÿ âœ…
â”‚  â”œâ”€ UIAttachment.cs             (AttachmentåŸºç±»)
â”‚  â”œâ”€ ActionUiAttachment.cs       (Actionç®¡ç†)
â”‚  â”œâ”€ EmitLifeCycleUIAttachment.cs (ç”Ÿå‘½å‘¨æœŸäº‹ä»¶)
â”‚  â”œâ”€ SortUIAttachment.cs         (UIæ’åº)
â”‚  â”œâ”€ ShowHideUiAttachment.cs     (æ˜¾ç¤ºéšè—)
â”‚  â”œâ”€ MaskUIAttachment.cs         (é®ç½©)
â”‚  â””â”€ AlignUIAttachment.cs        (å¯¹é½ï¼Œç©ºå®ç°)
â”‚
â”œâ”€ Extensions/                    # æ‰©å±•åŠŸèƒ½ âœ… ğŸ†•
â”‚  â””â”€ UIBindingExtensions.cs      (æ•°æ®ç»‘å®šæ‰©å±•)
â”‚
â”œâ”€ Utils/                         # å·¥å…·ç±» âœ…
â”‚  â”œâ”€ CustomSprite.cs
â”‚  â”œâ”€ Label.cs
â”‚  â”œâ”€ Sprite.cs
â”‚  â””â”€ Editor/
â”‚      â”œâ”€ CustomSpriteEditor.cs
â”‚      â””â”€ SpriteEditor.cs
â”‚
â”œâ”€ Deprecated/                    # åºŸå¼ƒç±» âœ… ğŸ†•
â”‚  â”œâ”€ MainUI.cs                   (å·²åºŸå¼ƒï¼Œæ ‡è®°Obsolete)
â”‚  â””â”€ PopupUI.cs                  (å·²åºŸå¼ƒï¼Œæ ‡è®°Obsolete)
â”‚
â””â”€ ç›®å½•ç»“æ„è¯´æ˜.md                # æœ¬æ–‡ä»¶
```

**æ ¹ç›®å½•æ–‡ä»¶æ•°**: 0ä¸ª âœ… **å®Œå…¨å¹²å‡€ï¼**

---

## âœ… ç›®å½•é‡ç»„å®Œæˆ

å·²æŒ‰åŠŸèƒ½æˆåŠŸé‡ç»„ç›®å½•ç»“æ„ï¼

**æ‰§è¡Œæ—¶é—´**: 2025-01-26  
**ç§»åŠ¨æ–‡ä»¶**: 22ä¸ªæ–‡ä»¶ï¼ˆ44ä¸ªå«.metaï¼‰  
**åˆ›å»ºç›®å½•**: 4ä¸ªï¼ˆCoreã€Managersã€Configã€Deprecatedï¼‰

### é‡ç»„æ•ˆæœ

**ä¼˜ç‚¹**ï¼š
- âœ… ç»“æ„æ¸…æ™°ï¼Œæ˜“äºæŸ¥æ‰¾
- âœ… èŒè´£æ˜ç¡®
- âœ… ä¾¿äºç»´æŠ¤
- âœ… ç¼–è¯‘æ­£å¸¸ï¼Œæ— é”™è¯¯

**æ ¹ç›®å½•æ–‡ä»¶**ï¼šä»22ä¸ªå‡å°‘åˆ°0ä¸ª âœ… **å®Œå…¨å¹²å‡€ï¼**

**ç›®å½•ç»Ÿè®¡**ï¼š
- Core/ - 4ä¸ªæ–‡ä»¶ï¼ˆåŸºç±» + å·¥å‚ + æ•°æ®ç»“æ„ï¼‰
- Managers/ - 6ä¸ªæ–‡ä»¶
- Config/ - 10ä¸ªæ–‡ä»¶
- Deprecated/ - 2ä¸ªæ–‡ä»¶
- Attachment/ - 7ä¸ªæ–‡ä»¶
- Extensions/ - 1ä¸ªæ–‡ä»¶
- Utils/ - 5ä¸ªæ–‡ä»¶

**è®¾è®¡ç†å¿µ**ï¼š
- Core/ åŒ…å«äº†æ‰€æœ‰å¼€å‘è€…éœ€è¦ç›´æ¥æ¥è§¦çš„æ ¸å¿ƒå…ƒç´ 
- UIFactoryè™½æ˜¯åŸºç¡€è®¾æ–½ï¼Œä½†ä¸BaseUIç´§å¯†ç›¸å…³ï¼Œæ”¾åœ¨Coreåˆç†
- UiLifeCycleæ˜¯å…¬å…±æ•°æ®ç»“æ„ï¼Œä½œä¸ºæ ¸å¿ƒAPIçš„ä¸€éƒ¨åˆ†ï¼Œæ”¾åœ¨Coreåˆç†

---

## ğŸ“‹ å½“å‰æ–‡ä»¶æ¸…å•ï¼ˆæŒ‰å­—æ¯æ’åºï¼‰

### æ ¹ç›®å½•æ–‡ä»¶ï¼ˆ22ä¸ªï¼‰
- BaseUI.cs
- MainUI.cs ğŸ”¶
- PopupUI.cs ğŸ”¶
- UGUIBaseUI.cs
- UIAlignType.cs
- UIAnimationType.cs
- UICacheStrategy.cs
- UICenter.cs
- UIConfig.cs
- UIConfigMerger.cs
- UIFactory.cs
- UIInstanceManager.cs ğŸ†•
- UILayerManager.cs ğŸ†•
- UiLifeCycle.cs
- UIManifest.cs ğŸ†•
- UIManifestManager.cs ğŸ†•
- UIRootManager.cs ğŸ†•
- UIRuntimeState.cs ğŸ†•
- UIStackManager.cs ğŸ†•
- UIState.cs
- UIStateManager.cs ğŸ†•
- UIType.cs

### å­ç›®å½•
- `Attachment/` - 7ä¸ªæ–‡ä»¶
- `Extensions/` - 1ä¸ªæ–‡ä»¶ ğŸ†•
- `Utils/` - 5ä¸ªæ–‡ä»¶ï¼ˆå«Editorå­ç›®å½•ï¼‰

**æ€»è®¡**: 35ä¸ªæ–‡ä»¶ï¼ˆä¸å«.metaï¼‰

---

**è¯´æ˜**ï¼š
- ğŸ†• = é‡æ„æ–°å¢
- ğŸ”¶ = å·²åºŸå¼ƒ
- âœ… = æ´»è·ƒä½¿ç”¨

