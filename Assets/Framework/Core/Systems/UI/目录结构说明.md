# UIç³»ç»Ÿç›®å½•ç»“æ„è¯´æ˜

> **è·¯å¾„**: Assets/Framework/Core/Systems/UI/  
> **æ›´æ–°æ—¶é—´**: 2025-10-26  
> **æ¶æ„ç‰ˆæœ¬**: MonoBehaviour v2.0

---

## ğŸ“ ç›®å½•åˆ†ç±»

### ä¸€ã€æ ¸å¿ƒå±‚ Core/ï¼ˆ4ä¸ªæ–‡ä»¶ï¼‰

#### ç»§æ‰¿å±‚æ¬¡ï¼ˆMonoBehaviouræ¶æ„ï¼‰

```
MonoBehaviour
  â””â”€ BaseUIBehaviour (æŠ½è±¡åŸºç±»)
      â””â”€ UGUIBaseUIBehaviour (UGUIå®ç°)
          â””â”€ ç”¨æˆ·UIç±» (å¦‚MainMenuUI)
```

| æ–‡ä»¶ | ç±»å‹ | èŒè´£ | çŠ¶æ€ |
|------|------|------|------|
| `BaseUIBehaviour.cs` | MonoBehaviouråŸºç±» | Pipelineç®¡é“ã€Unityç”Ÿå‘½å‘¨æœŸã€Attachmentæœºåˆ¶ | âœ… æ´»è·ƒ |
| `UGUIBaseUIBehaviour.cs` | MonoBehaviourå®ç° | UGUIå®ç°ã€ç»„ä»¶ç»‘å®šã€äº‹ä»¶ç®¡ç† | âœ… æ´»è·ƒ |
| `UIFactoryBehaviour.cs` | å·¥å‚ç±» | MonoBehaviourå·¥å‚ï¼Œä»Prefabåˆ›å»ºUI | âœ… æ´»è·ƒ |
| `UiLifeCycle.cs` | æ•°æ®ç»“æ„ | UIç”Ÿå‘½å‘¨æœŸè¿”å›å€¼ï¼ˆShowTask/HideTask/Targetï¼‰ | âœ… æ´»è·ƒ |

**è¯´æ˜**: æ—§çš„æ™®é€šç±»æ¶æ„ï¼ˆBaseUIã€UGUIBaseUIã€UIFactoryï¼‰å·²å½»åº•ç§»é™¤ã€‚

---

### ä¸‰ã€é…ç½®ç³»ç»Ÿï¼ˆ7ä¸ªæ–‡ä»¶ï¼‰

#### é…ç½®ç›¸å…³
| æ–‡ä»¶ | èŒè´£ | è¯´æ˜ |
|------|------|------|
| `UIConfig.cs` | UIé…ç½®ç±» | å®šä¹‰èµ„æºè·¯å¾„ã€ç±»å‹ã€ç¼“å­˜ç­–ç•¥ç­‰ |
| `UIConfigMerger.cs` | é…ç½®èåˆå™¨ | åˆå¹¶ä»£ç é…ç½®å’Œè¿è¡Œæ—¶é…ç½® |
| `UIManifest.cs` | é…ç½®æ¸…å• | ScriptableObjectï¼Œè¿è¡Œæ—¶é…ç½®ç®¡ç† |
| `UIManifestManager.cs` | æ¸…å•ç®¡ç†å™¨ | åŠ è½½å’Œè®¿é—®UIManifest |

#### æšä¸¾å®šä¹‰
| æ–‡ä»¶ | æšä¸¾å | è¯´æ˜ |
|------|--------|------|
| `UIType.cs` | UIType | Main/Popup/Effect/Top |
| `UIAlignType.cs` | UIAlignType | Center/Top/Bottom |
| `UICacheStrategy.cs` | UICacheStrategy | AlwaysCache/NeverCache/LRU |
| `UIAnimationType.cs` | UIAnimationType | None/Fade/Scale/Slide/Custom |
| `UIState.cs` | UIState | Create/Show/Ready/Hide/Destroy |
| `UIRuntimeState.cs` | UIRuntimeState | Creating/Showing/Hidden/Destroyed |

---

### å››ã€ç®¡ç†å™¨ç³»ç»Ÿï¼ˆ5ä¸ªæ–‡ä»¶ï¼‰ğŸ†•

| æ–‡ä»¶ | èŒè´£ | ä¸»è¦åŠŸèƒ½ |
|------|------|---------|
| `UICenter.cs` | UIç®¡ç†ä¸­å¿ƒ | æ˜¾ç¤º/éšè—/é”€æ¯ã€æ ˆç®¡ç†ã€é¢„åŠ è½½ |
| `UIInstanceManager.cs` | å®ä¾‹ç®¡ç†å™¨ | UIå®ä¾‹ç¼“å­˜ã€LRUæ·˜æ±°ã€å†…å­˜ç®¡ç† |
| `UIStackManager.cs` | æ ˆç®¡ç†å™¨ | Push/Popã€è¿”å›åŠŸèƒ½ã€Raycastæ§åˆ¶ |
| `UILayerManager.cs` | å±‚çº§ç®¡ç†å™¨ | è‡ªåŠ¨åˆ†é…sortingOrderï¼ˆå›ºå®šåŒºé—´ï¼‰ |
| `UIStateManager.cs` | çŠ¶æ€ç®¡ç†å™¨ | çŠ¶æ€è¿½è¸ªã€çŠ¶æ€æŒä¹…åŒ– |
| `UIRootManager.cs` | UIRootç®¡ç†å™¨ | è‡ªåŠ¨åˆ›å»ºUIRootã€UIæŒ‚è½½ |

---

### äº”ã€Attachmentç³»ç»Ÿï¼ˆ7ä¸ªæ–‡ä»¶ï¼‰

#### æ ¸å¿ƒAttachmentï¼ˆç”±BaseUIè‡ªåŠ¨æ·»åŠ ï¼‰
| æ–‡ä»¶ | èŒè´£ | ä½¿ç”¨æƒ…å†µ |
|------|------|---------|
| `UIAttachment.cs` | AttachmentåŸºç±» | æ‰€æœ‰Attachmentçš„åŸºç±» |
| `ActionUiAttachment.cs` | Actionç®¡ç† | BaseUIè‡ªåŠ¨æ·»åŠ  |
| `EmitLifeCycleUIAttachment.cs` | ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ | BaseUIè‡ªåŠ¨æ·»åŠ  |
| `SortUIAttachment.cs` | UIæ’åº | BaseUIè‡ªåŠ¨æ·»åŠ  |

#### å¯é€‰Attachmentï¼ˆå­ç±»å¯æ·»åŠ ï¼‰
| æ–‡ä»¶ | èŒè´£ | ä½¿ç”¨æƒ…å†µ |
|------|------|---------|
| `ShowHideUiAttachment.cs` | æ˜¾ç¤ºéšè— | MainUI/PopupUIä½¿ç”¨ |
| `MaskUIAttachment.cs` | é®ç½© | PopupUIä½¿ç”¨ |
| `AlignUIAttachment.cs` | å¯¹é½ | âš ï¸ ç©ºå®ç°ï¼Œæš‚æ—¶ä¿ç•™ |

---

### å…­ã€Attachmentç³»ç»Ÿï¼ˆå·²åˆ†ç±»åˆ° Attachment/ï¼‰

è¯¦è§ä¸Šæ–‡"éœ€è¦ä¿ç•™çš„æ–‡ä»¶"éƒ¨åˆ†ã€‚

---

### ä¸ƒã€æ‰©å±•åŠŸèƒ½ï¼ˆ1ä¸ªç›®å½•ï¼‰ğŸ†•

#### Extensions/
| æ–‡ä»¶ | èŒè´£ | åŠŸèƒ½ |
|------|------|------|
| `UIBindingExtensions.cs` | æ•°æ®ç»‘å®šæ‰©å±• | 8ä¸ªç»‘å®šæ–¹æ³•ï¼ˆBindTextã€BindNumberç­‰ï¼‰ |

---

### å…«ã€UIå·¥å…·ç±»ï¼ˆ1ä¸ªç›®å½•ï¼‰

#### Utils/
| æ–‡ä»¶ | èŒè´£ |
|------|------|
| `CustomSprite.cs` | è‡ªå®šä¹‰Sprite |
| `Label.cs` | æ ‡ç­¾ |
| `Sprite.cs` | Spriteå·¥å…· |
| `Editor/CustomSpriteEditor.cs` | è‡ªå®šä¹‰Spriteç¼–è¾‘å™¨ |
| `Editor/SpriteEditor.cs` | Spriteç¼–è¾‘å™¨ |

**è¯´æ˜**ï¼šè¿™äº›æ˜¯UIè¾…åŠ©å·¥å…·ï¼Œä¸æ ¸å¿ƒç³»ç»Ÿåˆ†ç¦»ã€‚

---

## ğŸ“Š æ–‡ä»¶ç»Ÿè®¡

### æŒ‰ç±»å‹ç»Ÿè®¡

| ç±»å‹ | æ•°é‡ | ç›®å½•ä½ç½® |
|------|------|---------|
| æ ¸å¿ƒå±‚ | 4 | Core/ (BaseUIBehaviourã€UGUIBaseUIBehaviourã€UIFactoryBehaviourã€UiLifeCycle) |
| é…ç½®ç³»ç»Ÿ | 10 | Config/ (Configã€Manifestã€6ä¸ªæšä¸¾) |
| ç®¡ç†å™¨ | 6 | Managers/ (Centerã€Instanceã€Stackã€Layerã€Stateã€Root) |
| Attachment | 7 | Attachment/ (å„ç§UIè¡Œä¸ºæ‰©å±•) |
| æ‰©å±•åŠŸèƒ½ | 1 | Extensions/ (æ•°æ®ç»‘å®šæ‰©å±•) |
| UIå·¥å…· | 5 | Utils/ (Spriteç›¸å…³å·¥å…·) |

**æ€»è®¡**: 33ä¸ªæ–‡ä»¶ï¼ˆä¸å«.metaï¼‰

**è¯´æ˜**: æ—§çš„æ™®é€šç±»æ¶æ„æ–‡ä»¶å·²å½»åº•ç§»é™¤ï¼ˆBaseUIã€UGUIBaseUIã€UIFactoryã€MainUIã€PopupUIï¼‰

### æŒ‰ç›®å½•ç»Ÿè®¡

| ç›®å½• | æ–‡ä»¶æ•° | è¯´æ˜ |
|------|--------|------|
| Core/ | 4 | MonoBehaviouræ ¸å¿ƒåŸºç±» + å·¥å‚ + æ•°æ®ç»“æ„ |
| Managers/ | 6 | ç®¡ç†å™¨ç³»ç»Ÿ |
| Config/ | 10 | é…ç½®å’Œæšä¸¾ |
| Attachment/ | 7 | Attachmentç³»ç»Ÿ |
| Extensions/ | 1 | æ‰©å±•åŠŸèƒ½ |
| Utils/ | 5 | å·¥å…·ç±» |
| **æ ¹ç›®å½•** | **0** | **å®Œå…¨å¹²å‡€ï¼** âœ…
| ~~Deprecated/~~ | ~~å·²åˆ é™¤~~ | ~~æ—§ä»£ç å·²å½»åº•æ¸…ç†~~ |

### æŒ‰çŠ¶æ€ç»Ÿè®¡

| çŠ¶æ€ | æ•°é‡ | è¯´æ˜ |
|------|------|------|
| âœ… æ´»è·ƒä½¿ç”¨ | 33 | æ‰€æœ‰æ–‡ä»¶å‡ä¸ºæ´»è·ƒçŠ¶æ€ |
| ğŸ†• MonoBehaviouræ¶æ„ | 3 | BaseUIBehaviourã€UGUIBaseUIBehaviourã€UIFactoryBehaviour |
| âš ï¸ å¾…å®š | 1 | AlignUIAttachmentï¼ˆç©ºå®ç°ï¼‰ |

---

## âœ… å½“å‰ç›®å½•ç»„ç»‡ï¼ˆMonoBehaviouræ¶æ„ï¼‰

ç›®å½•å·²æŒ‰åŠŸèƒ½é‡æ–°ç»„ç»‡ï¼Œç»“æ„æ¸…æ™°ï¼Œ**æ ¹ç›®å½•å®Œå…¨å¹²å‡€**ï¼

```
Assets/Framework/Core/Systems/UI/
â”œâ”€ Core/                          # æ ¸å¿ƒå±‚ï¼ˆMonoBehaviourï¼‰ âœ…
â”‚  â”œâ”€ BaseUIBehaviour.cs          (MonoBehaviour PipelineåŸºç±»)
â”‚  â”œâ”€ UGUIBaseUIBehaviour.cs      (UGUIå®ç°)
â”‚  â”œâ”€ UIFactoryBehaviour.cs       (MonoBehaviourå·¥å‚)
â”‚  â””â”€ UiLifeCycle.cs              (ç”Ÿå‘½å‘¨æœŸè¿”å›å€¼æ•°æ®ç»“æ„)
â”‚
â”œâ”€ Managers/                      # ç®¡ç†å™¨ç³»ç»Ÿ âœ… ğŸ†•
â”‚  â”œâ”€ UICenter.cs                 (UIç®¡ç†ä¸­å¿ƒ)
â”‚  â”œâ”€ UIInstanceManager.cs        (å®ä¾‹ç®¡ç†)
â”‚  â”œâ”€ UIStackManager.cs           (æ ˆç®¡ç†)
â”‚  â”œâ”€ UILayerManager.cs           (å±‚çº§ç®¡ç†)
â”‚  â”œâ”€ UIStateManager.cs           (çŠ¶æ€ç®¡ç†)
â”‚  â””â”€ UIRootManager.cs            (UIRootç®¡ç†)
â”‚
â”œâ”€ Config/                        # é…ç½®ç³»ç»Ÿ âœ… ğŸ†•
â”‚  â”œâ”€ UIConfig.cs                 (é…ç½®ç±»)
â”‚  â”œâ”€ UIConfigMerger.cs           (é…ç½®èåˆ)
â”‚  â”œâ”€ UIManifest.cs               (é…ç½®æ¸…å•)
â”‚  â”œâ”€ UIManifestManager.cs        (æ¸…å•ç®¡ç†)
â”‚  â”œâ”€ UIType.cs                   (UIç±»å‹æšä¸¾)
â”‚  â”œâ”€ UIAlignType.cs              (å¯¹é½ç±»å‹æšä¸¾)
â”‚  â”œâ”€ UICacheStrategy.cs          (ç¼“å­˜ç­–ç•¥æšä¸¾)
â”‚  â”œâ”€ UIAnimationType.cs          (åŠ¨ç”»ç±»å‹æšä¸¾)
â”‚  â”œâ”€ UIState.cs                  (ç”Ÿå‘½å‘¨æœŸçŠ¶æ€æšä¸¾)
â”‚  â””â”€ UIRuntimeState.cs           (è¿è¡Œæ—¶çŠ¶æ€æšä¸¾)
â”‚
â”œâ”€ Attachment/                    # Attachmentç³»ç»Ÿ âœ…
â”‚  â”œâ”€ UIAttachment.cs             (AttachmentåŸºç±»)
â”‚  â”œâ”€ ActionUiAttachment.cs       (Actionç®¡ç†)
â”‚  â”œâ”€ EmitLifeCycleUIAttachment.cs (ç”Ÿå‘½å‘¨æœŸäº‹ä»¶)
â”‚  â”œâ”€ SortUIAttachment.cs         (UIæ’åº)
â”‚  â”œâ”€ ShowHideUiAttachment.cs     (æ˜¾ç¤ºéšè—)
â”‚  â”œâ”€ MaskUIAttachment.cs         (é®ç½©)
â”‚  â””â”€ AlignUIAttachment.cs        (å¯¹é½ï¼Œç©ºå®ç°)
â”‚
â”œâ”€ Extensions/                    # æ‰©å±•åŠŸèƒ½ âœ… ğŸ†•
â”‚  â””â”€ UIBindingExtensions.cs      (æ•°æ®ç»‘å®šæ‰©å±•)
â”‚
â”œâ”€ Utils/                         # å·¥å…·ç±» âœ…
â”‚  â”œâ”€ CustomSprite.cs
â”‚  â”œâ”€ Label.cs
â”‚  â”œâ”€ Sprite.cs
â”‚  â””â”€ Editor/
â”‚      â”œâ”€ CustomSpriteEditor.cs
â”‚      â””â”€ SpriteEditor.cs
â”‚
â””â”€ ç›®å½•ç»“æ„è¯´æ˜.md                # æœ¬æ–‡ä»¶
```

**æ ¹ç›®å½•æ–‡ä»¶æ•°**: 0ä¸ª âœ… **å®Œå…¨å¹²å‡€ï¼**

---

## âœ… MonoBehaviouræ¶æ„è¿ç§»å®Œæˆ

å·²æˆåŠŸå®Œæˆä»æ™®é€šç±»åˆ°MonoBehaviourçš„æ¶æ„å‡çº§ï¼

**å®Œæˆæ—¶é—´**: 2025-10-26  
**æ¶æ„ç‰ˆæœ¬**: MonoBehaviour v2.0  
**æ—§ä»£ç æ¸…ç†**: 100%

### è¿ç§»æ•ˆæœ

**ä¼˜åŠ¿**ï¼š
- âœ… Unityæ ‡å‡†MonoBehaviouræ¶æ„
- âœ… Inspectorå¯è§†åŒ–è°ƒè¯•
- âœ… Unityç”Ÿå‘½å‘¨æœŸå®Œæ•´æ”¯æŒ
- âœ… ç¼–è¯‘æ­£å¸¸ï¼Œæ— é”™è¯¯
- âœ… æ—§ä»£ç å½»åº•æ¸…é™¤

**æ ¹ç›®å½•æ–‡ä»¶**ï¼š0ä¸ª âœ… **å®Œå…¨å¹²å‡€ï¼**

**ç›®å½•ç»Ÿè®¡**ï¼š
- Core/ - 4ä¸ªæ–‡ä»¶ï¼ˆMonoBehaviouråŸºç±» + å·¥å‚ + æ•°æ®ç»“æ„ï¼‰
- Managers/ - 6ä¸ªæ–‡ä»¶
- Config/ - 10ä¸ªæ–‡ä»¶
- Attachment/ - 7ä¸ªæ–‡ä»¶
- Extensions/ - 1ä¸ªæ–‡ä»¶
- Utils/ - 5ä¸ªæ–‡ä»¶

**æ¶æ„ç‰¹ç‚¹**ï¼š
- 100% MonoBehaviouræ¶æ„
- UIç±»ç›´æ¥æŒ‚è½½åˆ°Prefabä¸Š
- æ”¯æŒUnityæ‰€æœ‰ç”Ÿå‘½å‘¨æœŸé’©å­
- Inspectorå®Œå…¨å¯è§†åŒ–

---

## ğŸ“‹ MonoBehaviouræ¶æ„æ–‡ä»¶æ¸…å•

### Core/ç›®å½•ï¼ˆ4ä¸ªæ–‡ä»¶ï¼‰
- BaseUIBehaviour.cs - MonoBehaviouræ ¸å¿ƒåŸºç±»
- UGUIBaseUIBehaviour.cs - UGUIå®ç°
- UIFactoryBehaviour.cs - MonoBehaviourå·¥å‚
- UiLifeCycle.cs - ç”Ÿå‘½å‘¨æœŸæ•°æ®ç»“æ„

### Managers/ç›®å½•ï¼ˆ6ä¸ªæ–‡ä»¶ï¼‰
- UICenter.cs - UIç®¡ç†ä¸­å¿ƒ
- UIInstanceManager.cs - å®ä¾‹ç®¡ç†
- UIStackManager.cs - æ ˆç®¡ç†
- UILayerManager.cs - å±‚çº§ç®¡ç†
- UIStateManager.cs - çŠ¶æ€ç®¡ç†
- UIRootManager.cs - UIRootç®¡ç†

### Config/ç›®å½•ï¼ˆ10ä¸ªæ–‡ä»¶ï¼‰
- UIConfig.cs - UIé…ç½®ç±»
- UIConfigMerger.cs - é…ç½®èåˆå™¨
- UIManifest.cs - é…ç½®æ¸…å•
- UIManifestManager.cs - æ¸…å•ç®¡ç†å™¨
- UIType.cs - UIç±»å‹æšä¸¾
- UIAlignType.cs - å¯¹é½ç±»å‹æšä¸¾
- UICacheStrategy.cs - ç¼“å­˜ç­–ç•¥æšä¸¾
- UIAnimationType.cs - åŠ¨ç”»ç±»å‹æšä¸¾
- UIState.cs - ç”Ÿå‘½å‘¨æœŸçŠ¶æ€æšä¸¾
- UIRuntimeState.cs - è¿è¡Œæ—¶çŠ¶æ€æšä¸¾

### Attachment/ç›®å½•ï¼ˆ7ä¸ªæ–‡ä»¶ï¼‰
- UIAttachment.cs - AttachmentåŸºç±»
- ActionUiAttachment.cs - Actionç®¡ç†
- EmitLifeCycleUIAttachment.cs - ç”Ÿå‘½å‘¨æœŸäº‹ä»¶
- SortUIAttachment.cs - UIæ’åº
- ShowHideUiAttachment.cs - æ˜¾ç¤ºéšè—
- MaskUIAttachment.cs - é®ç½©
- AlignUIAttachment.cs - å¯¹é½ï¼ˆç©ºå®ç°ï¼‰

### Extensions/ç›®å½•ï¼ˆ1ä¸ªæ–‡ä»¶ï¼‰
- UIBindingExtensions.cs - æ•°æ®ç»‘å®šæ‰©å±•

### Utils/ç›®å½•ï¼ˆ5ä¸ªæ–‡ä»¶ï¼‰
- CustomSprite.cs
- Label.cs
- Sprite.cs
- Editor/CustomSpriteEditor.cs
- Editor/SpriteEditor.cs

**æ€»è®¡**: 33ä¸ªæ–‡ä»¶ï¼ˆä¸å«.metaï¼‰

**æ¶æ„**: 100% MonoBehaviourï¼Œ0% æ™®é€šç±»

