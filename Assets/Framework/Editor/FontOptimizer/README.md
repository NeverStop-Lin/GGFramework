# Unity å­—ä½“ä¼˜åŒ–æ’ä»¶

## ðŸ“¦ æ’ä»¶è¯´æ˜Ž

å°†åŽŸæœ¬çš„ Node.js å­—ä½“ä¼˜åŒ–å·¥å…·æ”¹é€ ä¸º Unity ç¼–è¾‘å™¨æ’ä»¶ï¼Œå¯ä»¥ç›´æŽ¥åœ¨ Unity ä¸­ä½¿ç”¨ã€‚

æä¾›äº† **ä¸¤ä¸ªç‰ˆæœ¬**ï¼š

### 1ï¸âƒ£ FontOptimizerEditor.cs - å®Œæ•´åŠŸèƒ½ç‰ˆ â­â­â­

**ç‰¹ç‚¹**:
- è°ƒç”¨åŽŸæœ‰çš„ font-edit å·¥å…·
- åŠŸèƒ½å®Œæ•´ï¼ˆå­—ä½“åŽ‹ç¼©ï¼‰
- æ”¯æŒ Excelã€XML ç­‰å¤æ‚æ ¼å¼
- éœ€è¦ Node.js çŽ¯å¢ƒ

**èœå•**: `Tools â†’ å­—ä½“ä¼˜åŒ–å·¥å…·`

**åŠŸèƒ½**:
- âœ… æ‰«æé¡¹ç›®æå–æ–‡å­—
- âœ… åŽ‹ç¼©å­—ä½“æ–‡ä»¶
- âœ… å›¾å½¢åŒ–ç•Œé¢é…ç½®
- âœ… å®žæ—¶æ—¥å¿—è¾“å‡º

### 2ï¸âƒ£ FontOptimizerWindow.cs - çº¯C#ç‰ˆ â­â­

**ç‰¹ç‚¹**:
- çº¯ C# å®žçŽ°
- æ— éœ€ Node.js
- ä»…æå–æ–‡å­—ï¼ˆä¸åŽ‹ç¼©å­—ä½“ï¼‰
- è½»é‡çº§

**èœå•**: `Tools â†’ å­—ä½“ä¼˜åŒ–å·¥å…·ï¼ˆçº¯C#ç‰ˆï¼‰`

**åŠŸèƒ½**:
- âœ… æ‰«æé¡¹ç›®æå–æ–‡å­—
- âœ… å¯¼å‡ºå­—ç¬¦åˆ—è¡¨
- âœ… æ”¯æŒ C#ã€JSONã€TXTã€Prefabã€Scene
- âŒ ä¸æ”¯æŒå­—ä½“åŽ‹ç¼©ï¼ˆéœ€æ‰‹åŠ¨ä½¿ç”¨å…¶ä»–å·¥å…·ï¼‰

---

## ðŸš€ ä½¿ç”¨æ–¹æ³•

### æ–¹æ³•1: ä½¿ç”¨å®Œæ•´åŠŸèƒ½ç‰ˆï¼ˆæŽ¨èï¼‰

#### å‰ç½®æ¡ä»¶
1. å®‰è£… Node.js
2. å®‰è£… font-edit ä¾èµ–ï¼š
```bash
cd Tools/font-edit
npm install
```

#### ä½¿ç”¨æ­¥éª¤
1. Unity èœå•ï¼š`Tools â†’ å­—ä½“ä¼˜åŒ–å·¥å…·`
2. é…ç½®è·¯å¾„ï¼š
   - æ‰«æè·¯å¾„ï¼šé¡¹ç›®è·¯å¾„ï¼ˆé»˜è®¤è‡ªåŠ¨å¡«å……ï¼‰
   - åŽŸå§‹å­—ä½“ï¼šé€‰æ‹©åŽŸå§‹å­—ä½“æ–‡ä»¶
   - è¾“å‡ºè·¯å¾„ï¼šAssets/Resources
3. ç‚¹å‡» **"å¼€å§‹ä¼˜åŒ–å­—ä½“"**
4. ç­‰å¾…å®Œæˆï¼ŒæŸ¥çœ‹æ—¥å¿—è¾“å‡º
5. åœ¨è¾“å‡ºè·¯å¾„æ‰¾åˆ°ä¼˜åŒ–åŽçš„å­—ä½“

#### ç•Œé¢é¢„è§ˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å­—ä½“ä¼˜åŒ–å·¥å…·                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è‡ªåŠ¨æ‰«æé¡¹ç›®ä¸­çš„æ‰€æœ‰æ–‡å­—...          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é…ç½®                                â”‚
â”‚ æ‰«æè·¯å¾„: [___________] [æµè§ˆ]      â”‚
â”‚ åŽŸå§‹å­—ä½“: [___________] [æµè§ˆ]      â”‚
â”‚ è¾“å‡ºè·¯å¾„: [___________] [æµè§ˆ]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        [  å¼€å§‹ä¼˜åŒ–å­—ä½“  ]            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ—¥å¿—è¾“å‡º                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ [10:30:15] å¼€å§‹ä¼˜åŒ–å­—ä½“...      â”‚â”‚
â”‚ â”‚ [10:30:16] æ‰«æ C# æ–‡ä»¶...     â”‚â”‚
â”‚ â”‚ [10:30:18] åŽ‹ç¼©å­—ä½“æ–‡ä»¶...     â”‚â”‚
â”‚ â”‚ [10:30:20] ä¼˜åŒ–å®Œæˆï¼          â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [æ¸…ç©ºæ—¥å¿—] [æ‰“å¼€ç›®å½•] [æŸ¥çœ‹å¸®åŠ©]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### æ–¹æ³•2: ä½¿ç”¨çº¯C#ç‰ˆï¼ˆæ— éœ€Node.jsï¼‰

#### ä½¿ç”¨æ­¥éª¤
1. Unity èœå•ï¼š`Tools â†’ å­—ä½“ä¼˜åŒ–å·¥å…·ï¼ˆçº¯C#ç‰ˆï¼‰`
2. é…ç½®è·¯å¾„ï¼š
   - æ‰«æè·¯å¾„ï¼šAssets ç›®å½•ï¼ˆé»˜è®¤ï¼‰
   - è¾“å‡ºæ–‡ä»¶ï¼šæ£€æµ‹åˆ°çš„å­—ç¬¦.txt
3. ç‚¹å‡» **"å¼€å§‹æ‰«æ"**
4. ç­‰å¾…æ‰«æå®Œæˆ
5. ç‚¹å‡» **"å¯¼å‡ºç»“æžœ"** æˆ– **"å¤åˆ¶åˆ°å‰ªè´´æ¿"**
6. ä½¿ç”¨å¯¼å‡ºçš„å­—ç¬¦åˆ—è¡¨ï¼Œæ‰‹åŠ¨ä½¿ç”¨å…¶ä»–å·¥å…·åŽ‹ç¼©å­—ä½“

#### ç•Œé¢é¢„è§ˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å­—ä½“ä¼˜åŒ–å·¥å…· - æ–‡å­—æå–å™¨            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ çº¯C#å®žçŽ°ï¼Œæ— éœ€Node.js...            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é…ç½®                                â”‚
â”‚ æ‰«æè·¯å¾„: [___________] [æµè§ˆ]      â”‚
â”‚ è¾“å‡ºæ–‡ä»¶: [___________] [æµè§ˆ]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ£€æµ‹åˆ°çš„å­—ç¬¦æ•°: 97                  â”‚
â”‚ å­—ç¬¦é¢„è§ˆ:                           â”‚
â”‚ å‚æ•°ç»„ä¸ºè¿”å›žé»˜è®¤å€¼ç´¢å¼•è¶…å‡ºèŒƒå›´...    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [å¼€å§‹æ‰«æ] [å¯¼å‡ºç»“æžœ] [å¤åˆ¶åˆ°å‰ªè´´æ¿] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ—¥å¿—è¾“å‡º                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ [10:30:15] å¼€å§‹æ‰«æ...         â”‚â”‚
â”‚ â”‚ [10:30:16] æ‰«æ C# æ–‡ä»¶: 123ä¸ª â”‚â”‚
â”‚ â”‚ [10:30:17] æ‰«æå®Œæˆï¼          â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“Š ä¸¤ä¸ªç‰ˆæœ¬å¯¹æ¯”

| åŠŸèƒ½ | å®Œæ•´åŠŸèƒ½ç‰ˆ | çº¯C#ç‰ˆ |
|------|----------|--------|
| æ–‡å­—æå– | âœ… | âœ… |
| å­—ä½“åŽ‹ç¼© | âœ… | âŒ |
| Excelæ”¯æŒ | âœ… | âŒ |
| XMLè§£æž | âœ… | âŒ |
| C#ä»£ç  | âœ… | âœ… |
| Unityèµ„æº | âœ… | âœ… |
| éœ€è¦Node.js | âœ… éœ€è¦ | âŒ ä¸éœ€è¦ |
| åŒ…ä½“ä¼˜åŒ– | â­â­â­ | â­ |
| ä½¿ç”¨éš¾åº¦ | ä¸­ç­‰ | ç®€å• |

---

## ðŸŽ¯ æŽ¨èä½¿ç”¨åœºæ™¯

### ä½¿ç”¨å®Œæ•´åŠŸèƒ½ç‰ˆ
- âœ… é¡¹ç›®æœ‰ Excel é…ç½®è¡¨
- âœ… éœ€è¦å®Œæ•´çš„å­—ä½“åŽ‹ç¼©åŠŸèƒ½
- âœ… å›¢é˜Ÿæœ‰ Node.js çŽ¯å¢ƒ
- âœ… è¿½æ±‚æœ€ä½³ä¼˜åŒ–æ•ˆæžœ

### ä½¿ç”¨çº¯C#ç‰ˆ
- âœ… ä¸æƒ³å®‰è£… Node.js
- âœ… åªéœ€è¦æå–æ–‡å­—åˆ—è¡¨
- âœ… ä½¿ç”¨å…¶ä»–å­—ä½“å·¥å…·åŽ‹ç¼©
- âœ… å¿«é€ŸæŸ¥çœ‹é¡¹ç›®ä½¿ç”¨äº†å“ªäº›å­—ç¬¦

---

## ðŸ”§ é«˜çº§é…ç½®

### è‡ªå®šä¹‰æ‰«æè§„åˆ™

ç¼–è¾‘ `FontOptimizerWindow.cs`ï¼Œä¿®æ”¹æ‰«æé€»è¾‘ï¼š

```csharp
// æ·»åŠ æ›´å¤šæ–‡ä»¶ç±»åž‹
private void ScanCustomFiles()
{
    var files = Directory.GetFiles(_sourcePath, "*.asset", SearchOption.AllDirectories);
    // è‡ªå®šä¹‰å¤„ç†é€»è¾‘
}
```

### è‡ªå®šä¹‰è¿‡æ»¤è§„åˆ™

```csharp
private void ExtractChinese(string text)
{
    foreach (var c in text)
    {
        // è‡ªå®šä¹‰å­—ç¬¦è¿‡æ»¤æ¡ä»¶
        if (c >= 0x4E00 && c <= 0x9FA5)  // ä¸­æ–‡
        {
            _detectedChars.Add(c);
        }
        // æ·»åŠ å…¶ä»–æ¡ä»¶
        if (c >= 0x3000 && c <= 0x303F)  // ä¸­æ–‡æ ‡ç‚¹
        {
            _detectedChars.Add(c);
        }
    }
}
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### å®Œæ•´åŠŸèƒ½ç‰ˆ
1. **é¦–æ¬¡ä½¿ç”¨éœ€è¦å®‰è£…ä¾èµ–**:
   ```bash
   cd Tools/font-edit
   npm install
   ```

2. **ç¡®ä¿ Node.js å·²å®‰è£…**:
   - ä¸‹è½½ï¼šhttps://nodejs.org/
   - éªŒè¯ï¼š`node --version`

3. **è·¯å¾„é…ç½®**:
   - æ‰«æè·¯å¾„ï¼šä½¿ç”¨ç»å¯¹è·¯å¾„æˆ–ç›¸å¯¹è·¯å¾„
   - å­—ä½“è·¯å¾„ï¼šå¿…é¡»æ˜¯ .ttf æˆ– .otf æ–‡ä»¶
   - è¾“å‡ºè·¯å¾„ï¼šå»ºè®®ä½¿ç”¨ Assets ä¸‹çš„è·¯å¾„

### çº¯C#ç‰ˆ
1. **åŠŸèƒ½é™åˆ¶**:
   - åªæå–å­—ç¬¦ï¼Œä¸åŽ‹ç¼©å­—ä½“
   - ä¸æ”¯æŒ Excel è§£æž
   - ä¸æ”¯æŒå¤æ‚çš„ XML è§£æž

2. **å­—ä½“åŽ‹ç¼©**:
   - å¯¼å‡ºå­—ç¬¦åˆ—è¡¨åŽ
   - ä½¿ç”¨åœ¨çº¿å·¥å…·æˆ–å…¶ä»–è½¯ä»¶åŽ‹ç¼©
   - æŽ¨èï¼šfont-spiderã€fontmin

---

## ðŸ› å¸¸è§é—®é¢˜

### Q1: å®Œæ•´åŠŸèƒ½ç‰ˆæç¤ºæ‰¾ä¸åˆ° npmï¼Ÿ
**A**: 
1. ç¡®è®¤å·²å®‰è£… Node.js
2. é‡å¯ Unity Editor
3. æ£€æŸ¥ç³»ç»ŸçŽ¯å¢ƒå˜é‡

### Q2: ä¼˜åŒ–åŽçš„å­—ä½“æ˜¾ç¤ºæ–¹æ¡†ï¼Ÿ
**A**: 
1. æ£€æŸ¥ `æ£€æµ‹åˆ°çš„å­—ç¬¦.txt`
2. ç¡®è®¤ç¼ºå¤±çš„å­—ç¬¦
3. æ·»åŠ åˆ° `default-text.txt`
4. é‡æ–°è¿è¡Œä¼˜åŒ–

### Q3: çº¯C#ç‰ˆä¸æ”¯æŒ Excelï¼Ÿ
**A**: 
çº¯C#ç‰ˆåªæå–æ–‡å­—ï¼Œä¸è§£æž Excelã€‚
å¦‚éœ€æ”¯æŒï¼Œä½¿ç”¨å®Œæ•´åŠŸèƒ½ç‰ˆã€‚

### Q4: å¯ä»¥åœ¨æ–°é¡¹ç›®ä¸­ä½¿ç”¨å—ï¼Ÿ
**A**: 
âœ… å¯ä»¥ï¼å¤åˆ¶è¿™ä¸¤ä¸ªæ’ä»¶æ–‡ä»¶åˆ°æ–°é¡¹ç›®çš„ Editor ç›®å½•å³å¯ã€‚

---

## ðŸ“¦ æ–‡ä»¶ç»“æž„

```
Framework/Editor/FontOptimizer/
â”œâ”€â”€ FontOptimizerEditor.cs         # å®Œæ•´åŠŸèƒ½ç‰ˆ
â”œâ”€â”€ FontOptimizerEditor.cs.meta
â”œâ”€â”€ FontOptimizerWindow.cs         # çº¯C#ç‰ˆ
â”œâ”€â”€ FontOptimizerWindow.cs.meta
â””â”€â”€ README.md                       # æœ¬æ–‡æ¡£
```

---

## ðŸš€ å¿«é€Ÿå¼€å§‹

### 5åˆ†é’Ÿä¸Šæ‰‹

1. **æ‰“å¼€ Unity**
2. **èœå•**: `Tools â†’ å­—ä½“ä¼˜åŒ–å·¥å…·`
3. **ç‚¹å‡»**: `å¼€å§‹ä¼˜åŒ–å­—ä½“`
4. **ç­‰å¾…**: å®ŒæˆåŽæŸ¥çœ‹è¾“å‡º
5. **ä½¿ç”¨**: å°†ä¼˜åŒ–åŽçš„å­—ä½“åº”ç”¨åˆ°é¡¹ç›®

å°±æ˜¯è¿™ä¹ˆç®€å•ï¼ ðŸŽ‰

---

## ðŸ“š ç›¸å…³æ–‡æ¡£

- [Tools/å·¥å…·è¯´æ˜Žæ–‡æ¡£.md](../../../../Tools/å·¥å…·è¯´æ˜Žæ–‡æ¡£.md) - font-edit è¯¦ç»†è¯´æ˜Ž
- [Client/Frameworkæå–æ¸…å•.md](../../../Frameworkæå–æ¸…å•.md) - æ¡†æž¶æå–æŒ‡å—

---

## ðŸ’¡ æç¤º

**å¼€å‘é˜¶æ®µ**: ä½¿ç”¨å®Œæ•´å­—ä½“ï¼Œæ–¹ä¾¿æµ‹è¯•  
**å‘å¸ƒå‰**: è¿è¡Œä¼˜åŒ–å·¥å…·ï¼Œå‡å°åŒ…ä½“  
**æŒç»­é›†æˆ**: é›†æˆåˆ°è‡ªåŠ¨åŒ–æž„å»ºæµç¨‹

**ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼** âœ¨

